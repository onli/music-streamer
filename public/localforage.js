/*!
    localForage -- Offline Storage, Improved
    Version 1.2.1
    https://mozilla.github.io/localForage
    (c) 2013-2015 Mozilla, Apache License 2.0
*/
(function(){var e,t,n,r;(function(){var i={},s={};e=function(e,t,n){i[e]={deps:t,callback:n}};r=n=t=function(e){function p(t){if(t.charAt(0)!=="."){return t}var n=t.split("/");var r=e.split("/").slice(0,-1);for(var i=0,s=n.length;i<s;i++){var o=n[i];if(o===".."){r.pop()}else if(o==="."){continue}else{r.push(o)}}return r.join("/")}r._eak_seen=i;if(s[e]){return s[e]}s[e]={};if(!i[e]){throw new Error("Could not find module "+e)}var n=i[e],o=n.deps,u=n.callback,a=[],f;for(var l=0,c=o.length;l<c;l++){if(o[l]==="exports"){a.push(f={})}else{a.push(t(p(o[l])))}}var h=u.apply(this,a);return s[e]=f||h}})();e("promise/all",["./utils","exports"],function(e,t){"use strict";function i(e){var t=this;if(!n(e)){throw new TypeError("You must pass an array to all.")}return new t(function(t,n){function u(e){return function(t){a(e,t)}}function a(e,n){i[e]=n;if(--s===0){t(i)}}var i=[],s=e.length,o;if(s===0){t([])}for(var f=0;f<e.length;f++){o=e[f];if(o&&r(o.then)){o.then(u(f),n)}else{a(f,o)}}})}var n=e.isArray;var r=e.isFunction;t.all=i});e("promise/asap",["exports"],function(e){"use strict";function i(){return function(){process.nextTick(a)}}function s(){var e=0;var t=new n(a);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function o(){return function(){r.setTimeout(a,1)}}function a(){for(var e=0;e<u.length;e++){var t=u[e];var n=t[0],r=t[1];n(r)}u=[]}function l(e,t){var n=u.push([e,t]);if(n===1){f()}}var t=typeof window!=="undefined"?window:{};var n=t.MutationObserver||t.WebKitMutationObserver;var r=typeof global!=="undefined"?global:this===undefined?window:this;var u=[];var f;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){f=i()}else if(n){f=s()}else{f=o()}e.asap=l});e("promise/config",["exports"],function(e){"use strict";function n(e,n){if(arguments.length===2){t[e]=n}else{return t[e]}}var t={instrument:false};e.config=t;e.configure=n});e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function s(){var e;if(typeof global!=="undefined"){e=global}else if(typeof window!=="undefined"&&window.document){e=window}else{e=self}var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;new e.Promise(function(e){t=e});return i(t)}();if(!t){e.Promise=r}}var r=e.Promise;var i=t.isFunction;n.polyfill=s});e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,r,i,s,o,u){"use strict";function b(e){if(!c(e)){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}if(!(this instanceof b)){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}this._subscribers=[];w(e,this)}function w(e,t){function n(e){A(t,e)}function r(e){M(t,e)}try{e(n,r)}catch(i){r(i)}}function E(e,t,n,r){var i=c(n),s,o,u,a;if(i){try{s=n(r);u=true}catch(f){a=true;o=f}}else{s=r;u=true}if(L(t,s)){return}else if(i&&u){A(t,s)}else if(a){M(t,o)}else if(e===T){A(t,s)}else if(e===N){M(t,s)}}function C(e,t,n,r){var i=e._subscribers;var s=i.length;i[s]=t;i[s+T]=n;i[s+N]=r}function k(e,t){var n,r,i=e._subscribers,s=e._detail;for(var o=0;o<i.length;o+=3){n=i[o];r=i[o+t];E(t,n,r,s)}e._subscribers=null}function L(e,t){var n=null,r;try{if(e===t){throw new TypeError("A promises callback cannot return that same promise.")}if(l(t)){n=t.then;if(c(n)){n.call(t,function(n){if(r){return true}r=true;if(t!==n){A(e,n)}else{O(e,n)}},function(t){if(r){return true}r=true;M(e,t)});return true}}}catch(i){if(r){return true}M(e,i);return true}return false}function A(e,t){if(e===t){O(e,t)}else if(!L(e,t)){O(e,t)}}function O(e,t){if(e._state!==S){return}e._state=x;e._detail=t;a.async(_,e)}function M(e,t){if(e._state!==S){return}e._state=x;e._detail=t;a.async(D,e)}function _(e){k(e,e._state=T)}function D(e){k(e,e._state=N)}var a=e.config;var f=e.configure;var l=t.objectOrFunction;var c=t.isFunction;var h=t.now;var p=n.all;var d=r.race;var v=i.resolve;var m=s.reject;var g=o.asap;var y=0;a.async=g;var S=void 0;var x=0;var T=1;var N=2;b.prototype={constructor:b,_state:undefined,_detail:undefined,_subscribers:undefined,then:function(e,t){var n=this;var r=new this.constructor(function(){});if(this._state){var i=arguments;a.async(function(){E(n._state,r,i[n._state-1],n._detail)})}else{C(this,r,e,t)}return r},"catch":function(e){return this.then(null,e)}};b.all=p;b.race=d;b.resolve=v;b.reject=m;u.Promise=b});e("promise/race",["./utils","exports"],function(e,t){"use strict";function r(e){var t=this;if(!n(e)){throw new TypeError("You must pass an array to race.")}return new t(function(t,n){var r=[],i;for(var s=0;s<e.length;s++){i=e[s];if(i&&typeof i.then==="function"){i.then(t,n)}else{t(i)}}})}var n=e.isArray;t.race=r});e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t});e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&typeof e==="object"&&e.constructor===this){return e}var t=this;return new t(function(t){t(e)})}e.resolve=t});e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||typeof e==="object"&&e!==null}function n(e){return typeof e==="function"}function r(e){return Object.prototype.toString.call(e)==="[object Array]"}var i=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t;e.isFunction=n;e.isArray=r;e.now=i});t("promise/polyfill").polyfill()})();(function(){"use strict";function v(e,n){var d="";if(e){d=e.toString()}if(e&&(e.toString()==="[object ArrayBuffer]"||e.buffer&&e.buffer.toString()==="[object ArrayBuffer]")){var v;var m=t;if(e instanceof ArrayBuffer){v=e;m+=r}else{v=e.buffer;if(d==="[object Int8Array]"){m+=s}else if(d==="[object Uint8Array]"){m+=o}else if(d==="[object Uint8ClampedArray]"){m+=u}else if(d==="[object Int16Array]"){m+=a}else if(d==="[object Uint16Array]"){m+=l}else if(d==="[object Int32Array]"){m+=f}else if(d==="[object Uint32Array]"){m+=c}else if(d==="[object Float32Array]"){m+=h}else if(d==="[object Float64Array]"){m+=p}else{n(new Error("Failed to get type for BinaryArray"))}}n(m+y(v))}else if(d==="[object Blob]"){var g=new FileReader;g.onload=function(){var e=y(this.result);n(t+i+e)};g.readAsArrayBuffer(e)}else{try{n(JSON.stringify(e))}catch(b){window.console.error("Couldn't convert value into a JSON "+"string: ",e);n(null,b)}}}function m(e){if(e.substring(0,n)!==t){return JSON.parse(e)}var v=e.substring(d);var m=e.substring(n,d);var y=g(v);switch(m){case r:return y;case i:return new Blob([y]);case s:return new Int8Array(y);case o:return new Uint8Array(y);case u:return new Uint8ClampedArray(y);case a:return new Int16Array(y);case l:return new Uint16Array(y);case f:return new Int32Array(y);case c:return new Uint32Array(y);case h:return new Float32Array(y);case p:return new Float64Array(y);default:throw new Error("Unkown type: "+m)}}function g(t){var n=t.length*.75;var r=t.length;var i;var s=0;var o,u,a,f;if(t[t.length-1]==="="){n--;if(t[t.length-2]==="="){n--}}var l=new ArrayBuffer(n);var c=new Uint8Array(l);for(i=0;i<r;i+=4){o=e.indexOf(t[i]);u=e.indexOf(t[i+1]);a=e.indexOf(t[i+2]);f=e.indexOf(t[i+3]);c[s++]=o<<2|u>>4;c[s++]=(u&15)<<4|a>>2;c[s++]=(a&3)<<6|f&63}return l}function y(t){var n=new Uint8Array(t);var r="";var i;for(i=0;i<n.length;i+=3){r+=e[n[i]>>2];r+=e[(n[i]&3)<<4|n[i+1]>>4];r+=e[(n[i+1]&15)<<2|n[i+2]>>6];r+=e[n[i+2]&63]}if(n.length%3===2){r=r.substring(0,r.length-1)+"="}else if(n.length%3===1){r=r.substring(0,r.length-2)+"=="}return r}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t="__lfsc__:";var n=t.length;var r="arbf";var i="blob";var s="si08";var o="ui08";var u="uic8";var a="si16";var f="si32";var l="ur16";var c="ui32";var h="fl32";var p="fl64";var d=n+r.length;var b={serialize:v,deserialize:m,stringToBuffer:g,bufferToString:y};if(typeof define==="function"&&define.amd){define("localforageSerializer",function(){return b})}else if(typeof module!=="undefined"&&module.exports){module.exports=b}else{this.localforageSerializer=b}}).call(window);(function(){"use strict";function n(n){var r=this;var i={db:null};if(n){for(var s in n){i[s]=n[s]}}return new e(function(e,n){var s=t.open(i.name,i.version);s.onerror=function(){n(s.error)};s.onupgradeneeded=function(){s.result.createObjectStore(i.storeName)};s.onsuccess=function(){i.db=s.result;r._dbInfo=i;e()}})}function r(t,n){var r=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var i=new e(function(e,n){r.ready().then(function(){var i=r._dbInfo;var s=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName);var o=s.get(t);o.onsuccess=function(){var t=o.result;if(t===undefined){t=null}e(t)};o.onerror=function(){n(o.error)}})["catch"](n)});h(i,n);return i}function i(t,n){var r=this;var i=new e(function(e,n){r.ready().then(function(){var i=r._dbInfo;var s=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName);var o=s.openCursor();var u=1;o.onsuccess=function(){var n=o.result;if(n){var r=t(n.value,n.key,u++);if(r!==void 0){e(r)}else{n["continue"]()}}else{e()}};o.onerror=function(){n(o.error)}})["catch"](n)});h(i,n);return i}function s(t,n,r){var i=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var s=new e(function(e,r){i.ready().then(function(){var s=i._dbInfo;var o=s.db.transaction(s.storeName,"readwrite");var u=o.objectStore(s.storeName);if(n===null){n=undefined}var a=u.put(n,t);o.oncomplete=function(){if(n===undefined){n=null}e(n)};o.onabort=o.onerror=function(){r(a.error)}})["catch"](r)});h(s,r);return s}function o(t,n){var r=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var i=new e(function(e,n){r.ready().then(function(){var i=r._dbInfo;var s=i.db.transaction(i.storeName,"readwrite");var o=s.objectStore(i.storeName);var u=o["delete"](t);s.oncomplete=function(){e()};s.onerror=function(){n(u.error)};s.onabort=function(e){var t=e.target.error;if(t==="QuotaExceededError"){n(t)}}})["catch"](n)});h(i,n);return i}function u(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;var i=r.db.transaction(r.storeName,"readwrite");var s=i.objectStore(r.storeName);var o=s.clear();i.oncomplete=function(){e()};i.onabort=i.onerror=function(){t(o.error)}})["catch"](t)});h(r,t);return r}function a(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;var i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName);var s=i.count();s.onsuccess=function(){e(s.result)};s.onerror=function(){t(s.error)}})["catch"](t)});c(r,t);return r}function f(t,n){var r=this;var i=new e(function(e,n){if(t<0){e(null);return}r.ready().then(function(){var i=r._dbInfo;var s=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName);var o=false;var u=s.openCursor();u.onsuccess=function(){var n=u.result;if(!n){e(null);return}if(t===0){e(n.key)}else{if(!o){o=true;n.advance(t)}else{e(n.key)}}};u.onerror=function(){n(u.error)}})["catch"](n)});c(i,n);return i}function l(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;var i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName);var s=i.openCursor();var o=[];s.onsuccess=function(){var t=s.result;if(!t){e(o);return}o.push(t.key);t["continue"]()};s.onerror=function(){t(s.error)}})["catch"](t)});c(r,t);return r}function c(e,t){if(t){e.then(function(e){t(null,e)},function(e){t(e)})}}function h(e,t){if(t){e.then(function(e){p(t,e)},function(e){t(e)})}}function p(e,t){if(e){return setTimeout(function(){return e(null,t)},0)}}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t=t||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(!t){return}var d={_driver:"asyncStorage",_initStorage:n,iterate:i,getItem:r,setItem:s,removeItem:o,clear:u,length:a,key:f,keys:l};if(typeof define==="function"&&define.amd){define("asyncStorage",function(){return d})}else if(typeof module!=="undefined"&&module.exports){module.exports=d}else{this.asyncStorage=d}}).call(window);(function(){"use strict";function u(r){var i=this;var u={};if(r){for(var a in r){u[a]=r[a]}}u.keyPrefix=u.name+"/";i._dbInfo=u;var f=new e(function(e){if(o===s.DEFINE){require(["localforageSerializer"],e)}else if(o===s.EXPORT){e(require("./../utils/serializer"))}else{e(t.localforageSerializer)}});return f.then(function(t){n=t;return e.resolve()})}function a(e){var t=this;var n=t.ready().then(function(){var e=t._dbInfo.keyPrefix;for(var n=r.length-1;n>=0;n--){var i=r.key(n);if(i.indexOf(e)===0){r.removeItem(i)}}});m(n,e);return n}function f(e,t){var i=this;if(typeof e!=="string"){window.console.warn(e+" used as a key, but it is not a string.");e=String(e)}var s=i.ready().then(function(){var t=i._dbInfo;var s=r.getItem(t.keyPrefix+e);if(s){s=n.deserialize(s)}return s});m(s,t);return s}function l(e,t){var i=this;var s=i.ready().then(function(){var t=i._dbInfo.keyPrefix;var s=t.length;var o=r.length;for(var u=0;u<o;u++){var a=r.key(u);var f=r.getItem(a);if(f){f=n.deserialize(f)}f=e(f,a.substring(s),u+1);if(f!==void 0){return f}}});m(s,t);return s}function c(e,t){var n=this;var i=n.ready().then(function(){var t=n._dbInfo;var i;try{i=r.key(e)}catch(s){i=null}if(i){i=i.substring(t.keyPrefix.length)}return i});m(i,t);return i}function h(e){var t=this;var n=t.ready().then(function(){var e=t._dbInfo;var n=r.length;var i=[];for(var s=0;s<n;s++){if(r.key(s).indexOf(e.keyPrefix)===0){i.push(r.key(s).substring(e.keyPrefix.length))}}return i});m(n,e);return n}function p(e){var t=this;var n=t.keys().then(function(e){return e.length});m(n,e);return n}function d(e,t){var n=this;if(typeof e!=="string"){window.console.warn(e+" used as a key, but it is not a string.");e=String(e)}var i=n.ready().then(function(){var t=n._dbInfo;r.removeItem(t.keyPrefix+e)});m(i,t);return i}function v(t,i,s){var o=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var u=o.ready().then(function(){if(i===undefined){i=null}var s=i;return new e(function(e,u){n.serialize(i,function(n,i){if(i){u(i)}else{try{var a=o._dbInfo;r.setItem(a.keyPrefix+t,n);e(s)}catch(f){if(f.name==="QuotaExceededError"||f.name==="NS_ERROR_DOM_QUOTA_REACHED"){u(f)}u(f)}}})})});m(u,s);return u}function m(e,t){if(t){e.then(function(e){t(null,e)},function(e){t(e)})}}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t=this;var n=null;var r=null;try{if(!this.localStorage||!("setItem"in this.localStorage)){return}r=this.localStorage}catch(i){return}var s={DEFINE:1,EXPORT:2,WINDOW:3};var o=s.WINDOW;if(typeof define==="function"&&define.amd){o=s.DEFINE}else if(typeof module!=="undefined"&&module.exports){o=s.EXPORT}var g={_driver:"localStorageWrapper",_initStorage:u,iterate:l,getItem:f,setItem:v,removeItem:d,clear:a,length:p,key:c,keys:h};if(o===s.DEFINE){define("localStorageWrapper",function(){return g})}else if(o===s.EXPORT){module.exports=g}else{this.localStorageWrapper=g}}).call(window);(function(){"use strict";function o(o){var u=this;var a={db:null};if(o){for(var f in o){a[f]=typeof o[f]!=="string"?o[f].toString():o[f]}}var l=new e(function(e){if(s===i.DEFINE){require(["localforageSerializer"],e)}else if(s===i.EXPORT){e(require("./../utils/serializer"))}else{e(t.localforageSerializer)}});var c=new e(function(e,t){try{a.db=r(a.name,String(a.version),a.description,a.size)}catch(n){return u.setDriver(u.LOCALSTORAGE).then(function(){return u._initStorage(o)}).then(e)["catch"](t)}a.db.transaction(function(n){n.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){u._dbInfo=a;e()},function(e,n){t(n)})})});return l.then(function(e){n=e;return c})}function u(t,r){var i=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var s=new e(function(e,r){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(i){i.executeSql("SELECT * FROM "+s.storeName+" WHERE key = ? LIMIT 1",[t],function(t,r){var i=r.rows.length?r.rows.item(0).value:null;if(i){i=n.deserialize(i)}e(i)},function(e,t){r(t)})})})["catch"](r)});v(s,r);return s}function a(t,r){var i=this;var s=new e(function(e,r){i.ready().then(function(){var s=i._dbInfo;s.db.transaction(function(i){i.executeSql("SELECT * FROM "+s.storeName,[],function(r,i){var s=i.rows;var o=s.length;for(var u=0;u<o;u++){var a=s.item(u);var f=a.value;if(f){f=n.deserialize(f)}f=t(f,a.key,u+1);if(f!==void 0){e(f);return}}e()},function(e,t){r(t)})})})["catch"](r)});v(s,r);return s}function f(t,r,i){var s=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var o=new e(function(e,i){s.ready().then(function(){if(r===undefined){r=null}var o=r;n.serialize(r,function(n,r){if(r){i(r)}else{var u=s._dbInfo;u.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){e(o)},function(e,t){i(t)})},function(e){if(e.code===e.QUOTA_ERR){i(e)}})}})})["catch"](i)});v(o,i);return o}function l(t,n){var r=this;if(typeof t!=="string"){window.console.warn(t+" used as a key, but it is not a string.");t=String(t)}var i=new e(function(e,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){r.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(e,t){n(t)})})})["catch"](n)});v(i,n);return i}function c(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})})["catch"](t)});v(r,t);return r}function h(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,n){t(n)})})})["catch"](t)});v(r,t);return r}function p(t,n){var r=this;var i=new e(function(e,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){r.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(e,t){n(t)})})})["catch"](n)});v(i,n);return i}function d(t){var n=this;var r=new e(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName,[],function(t,n){var r=[];for(var i=0;i<n.rows.length;i++){r.push(n.rows.item(i).key)}e(r)},function(e,n){t(n)})})})["catch"](t)});v(r,t);return r}function v(e,t){if(t){e.then(function(e){t(null,e)},function(e){t(e)})}}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t=this;var n=null;var r=this.openDatabase;if(!r){return}var i={DEFINE:1,EXPORT:2,WINDOW:3};var s=i.WINDOW;if(typeof define==="function"&&define.amd){s=i.DEFINE}else if(typeof module!=="undefined"&&module.exports){s=i.EXPORT}var m={_driver:"webSQLStorage",_initStorage:o,iterate:a,getItem:u,setItem:f,removeItem:l,clear:c,length:h,key:p,keys:d};if(s===i.DEFINE){define("webSQLStorage",function(){return m})}else if(s===i.EXPORT){module.exports=m}else{this.webSQLStorage=m}}).call(window);(function(){"use strict";function l(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function c(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t){for(var n in t){if(t.hasOwnProperty(n)){if(f(t[n])){arguments[0][n]=t[n].slice()}else{arguments[0][n]=t[n]}}}}}return arguments[0]}function h(e){for(var t in n){if(n.hasOwnProperty(t)&&n[t]===e){return true}}return false}function d(e){this._config=c({},o,e);this._driverSet=null;this._ready=false;this._dbInfo=null;for(var t=0;t<i.length;t++){l(this,i[t])}this.setDriver(this._config.driver)}var e=typeof module!=="undefined"&&module.exports?require("promise"):this.Promise;var t={};var n={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"};var r=[n.INDEXEDDB,n.WEBSQL,n.LOCALSTORAGE];var i=["clear","getItem","iterate","key","keys","length","removeItem","setItem"];var s={DEFINE:1,EXPORT:2,WINDOW:3};var o={description:"",driver:r.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};var u=s.WINDOW;if(typeof define==="function"&&define.amd){u=s.DEFINE}else if(typeof module!=="undefined"&&module.exports){u=s.EXPORT}var a=function(e){var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;var r={};r[n.WEBSQL]=!!e.openDatabase;r[n.INDEXEDDB]=!!function(){if(typeof e.openDatabase!=="undefined"&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent)){return false}try{return t&&typeof t.open==="function"&&typeof e.IDBKeyRange!=="undefined"}catch(n){return false}}();r[n.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(t){return false}}();return r}(this);var f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var p=this;d.prototype.INDEXEDDB=n.INDEXEDDB;d.prototype.LOCALSTORAGE=n.LOCALSTORAGE;d.prototype.WEBSQL=n.WEBSQL;d.prototype.config=function(e){if(typeof e==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var t in e){if(t==="storeName"){e[t]=e[t].replace(/\W/g,"_")}this._config[t]=e[t]}if("driver"in e&&e.driver){this.setDriver(this._config.driver)}return true}else if(typeof e==="string"){return this._config[e]}else{return this._config}};d.prototype.defineDriver=function(n,r,s){var o=new e(function(r,s){try{var o=n._driver;var u=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");var f=new Error("Custom driver name already in use: "+n._driver);if(!n._driver){s(u);return}if(h(n._driver)){s(f);return}var l=i.concat("_initStorage");for(var c=0;c<l.length;c++){var p=l[c];if(!p||!n[p]||typeof n[p]!=="function"){s(u);return}}var d=e.resolve(true);if("_support"in n){if(n._support&&typeof n._support==="function"){d=n._support()}else{d=e.resolve(!!n._support)}}d.then(function(e){a[o]=e;t[o]=n;r()},s)}catch(v){s(v)}});o.then(r,s);return o};d.prototype.driver=function(){return this._driver||null};d.prototype.ready=function(t){var n=this;var r=new e(function(e,t){n._driverSet.then(function(){if(n._ready===null){n._ready=n._initStorage(n._config)}n._ready.then(e,t)})["catch"](t)});r.then(t,t);return r};d.prototype.setDriver=function(n,r,i){function a(){o._config.driver=o.driver()}var o=this;if(typeof n==="string"){n=[n]}this._driverSet=new e(function(r,i){var a=o._getFirstSupportedDriver(n);var f=new Error("No available storage method found.");if(!a){o._driverSet=e.reject(f);i(f);return}o._dbInfo=null;o._ready=null;if(h(a)){if(u===s.DEFINE){require([a],function(e){o._extend(e);r()});return}else if(u===s.EXPORT){var l;switch(a){case o.INDEXEDDB:l=require("./drivers/indexeddb");break;case o.LOCALSTORAGE:l=require("./drivers/localstorage");break;case o.WEBSQL:l=require("./drivers/websql")}o._extend(l)}else{o._extend(p[a])}}else if(t[a]){o._extend(t[a])}else{o._driverSet=e.reject(f);i(f);return}r()});this._driverSet.then(a,a);this._driverSet.then(r,i);return this._driverSet};d.prototype.supports=function(e){return!!a[e]};d.prototype._extend=function(e){c(this,e)};d.prototype._getFirstSupportedDriver=function(e){if(e&&f(e)){for(var t=0;t<e.length;t++){var n=e[t];if(this.supports(n)){return n}}}return null};d.prototype.createInstance=function(e){return new d(e)};var v=new d;if(u===s.DEFINE){define("localforage",function(){return v})}else if(u===s.EXPORT){module.exports=v}else{this.localforage=v}}).call(window)